# GBR_AIMS_Sentinel-2-wave-energy
This dataset estimates wave energy over the GBR based on Sentinel-2 satellite imagery. This analysis uses sun-glint in the spring and summer months to highlight the waves.

This analysis relies on the [NIR band (B8) of the Sentinel-2](https://www.satimagingcorp.com/satellite-sensors/other-satellite-sensors/sentinel-2a/#:~:text=Sentinel%2D2A%20Satellite%20Sensor%20Specifications&text=MSI%20covering%2013%20spectral%20bands,(three%20atmospheric%20correction%20bands)) to view just the surface of the water. The NIR band doesn't penetrate water, but does pick up sub glint reflections off the water. It is this sun glint that allows us to see the waves in open water. 

To process the imagery we:
1. Choose images that have low cloud cover and have sun glint that shows the surface of the waves. This generally only happens with imagery from September to February. We also want to exclude days where there is significant trichodesmium on the waters surface. The NIR channel is sensitive to the floating algae and so it will pollute the final result if it is not excluded.
2. Create accurate cloud masks. The edges of any clouds in the images will be interpretted as waves and so it is very important to remove them. Because clouds are the main contribution of problems to the algorithm we manually create cloud masks offline using Photoshop. These masks are then combined with the original imagery to inform where the analysis should be performed.
3. We then need to normalise the brightness of the sun-glint. The amount of sun glint depends on the relative angle of the sun, water and satellite and so the brightness varies across the width of the image. This process attempts to normalise the amount of glint across the image so that subsequent processing has similar estimates of wave height regardless of the location in the image. Note: The satellite imagery has sun glint that varies in angled bands in the image (due to the scanning of the satellite), as such the glint estimates need to consider these discontinuities in the brightness across the image.
4. Estimate the wave energy by using a highpass filter to remove background brightness changes across the image. We then adjust the levels of the image and apply filtering to record the peaks of the waves. This is similar to recovering the signal values from an Amplitude Modulated signal.
5. The analysis is repeated for multiple images for an area so that the noise in the wave energy estimates can be reduced.
6. The multiple wave energy estimates are combined together to create the final product.
